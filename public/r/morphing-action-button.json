{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "morphing-action-button",
  "type": "registry:ui",
  "title": "Morphing Action Button",
  "description": "A circular FAB that morphs into a rectangular action panel using layoutId",
  "dependencies": [
    "framer-motion",
    "lucide-react",
    "react"
  ],
  "files": [
    {
      "path": "components/motion-core/morphing-action-button.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { motion, AnimatePresence, LayoutGroup } from \"framer-motion\";\nimport { Plus, X } from \"lucide-react\";\n\ntype ActionItem = {\n  label: string;\n  icon: React.ReactNode;\n  onClick: () => void;\n};\n\ntype MorphingActionButtonProps = {\n  actions?: ActionItem[];\n  duration?: number;\n};\n\nexport function MorphingActionButton({\n  actions = [\n    {\n      label: \"New Task\",\n      icon: <Plus className=\"h-4 w-4\" />,\n      onClick: () => {},\n    },\n    {\n      label: \"New Project\",\n      icon: <Plus className=\"h-4 w-4\" />,\n      onClick: () => {},\n    },\n    {\n      label: \"New Team\",\n      icon: <Plus className=\"h-4 w-4\" />,\n      onClick: () => {},\n    },\n  ],\n  duration = 0.3,\n}: MorphingActionButtonProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  return (\n    <div className=\"relative\">\n      <div className=\"fixed preview:absolute bottom-8 right-8 preview:right-[85px] z-50\">\n        <LayoutGroup>\n          <motion.div\n            layout\n            className=\"relative\"\n            initial={false}\n            animate={{\n              width: isExpanded ? 280 : 56,\n              height: isExpanded ? \"auto\" : 56,\n              borderRadius: isExpanded ? 16 : 28,\n            }}\n            transition={{\n              type: \"spring\",\n              stiffness: 300,\n              damping: 30,\n              duration,\n            }}\n          >\n            <motion.button\n              onClick={() => setIsExpanded(!isExpanded)}\n              className=\"absolute right-0 bottom-0 flex h-14 w-14 items-center justify-center rounded-full bg-primary text-primary-foreground shadow-lg transition-shadow hover:shadow-xl\"\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              layoutId=\"fab-button\"\n            >\n              <AnimatePresence mode=\"wait\">\n                {isExpanded ? (\n                  <motion.div\n                    key=\"close\"\n                    initial={{ rotate: -90, opacity: 0 }}\n                    animate={{ rotate: 0, opacity: 1 }}\n                    exit={{ rotate: 90, opacity: 0 }}\n                    transition={{ duration: 0.2 }}\n                  >\n                    <X className=\"h-5 w-5\" />\n                  </motion.div>\n                ) : (\n                  <motion.div\n                    key=\"plus\"\n                    initial={{ rotate: 90, opacity: 0 }}\n                    animate={{ rotate: 0, opacity: 1 }}\n                    exit={{ rotate: -90, opacity: 0 }}\n                    transition={{ duration: 0.2 }}\n                  >\n                    <Plus className=\"h-5 w-5\" />\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </motion.button>\n\n            <AnimatePresence>\n              {isExpanded && (\n                <motion.div\n                  initial={{ opacity: 0, scale: 0.8 }}\n                  animate={{ opacity: 1, scale: 1 }}\n                  exit={{ opacity: 0, scale: 0.8 }}\n                  transition={{ duration: 0.2, delay: 0.1 }}\n                  className=\"absolute bottom-0 right-0 w-64 rounded-2xl border border-border bg-card p-4 shadow-2xl\"\n                  layoutId=\"fab-panel\"\n                >\n                  <div className=\"mb-2 space-y-2\">\n                    {actions.map((action, index) => (\n                      <motion.button\n                        key={action.label}\n                        initial={{ opacity: 0, x: -20 }}\n                        animate={{ opacity: 1, x: 0 }}\n                        transition={{ delay: index * 0.05 + 0.2 }}\n                        onClick={() => {\n                          action.onClick();\n                          setIsExpanded(false);\n                        }}\n                        className=\"flex w-full items-center gap-3 rounded-lg px-4 py-3 text-left text-sm transition-colors hover:bg-muted\"\n                      >\n                        <span className=\"text-muted-foreground\">\n                          {action.icon}\n                        </span>\n                        <span className=\"font-medium\">{action.label}</span>\n                      </motion.button>\n                    ))}\n                  </div>\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </motion.div>\n        </LayoutGroup>\n      </div>\n      {/* Preview indicator - this component uses fixed positioning */}\n      <div className=\"mt-2 text-xs text-center text-muted-foreground\">\n        Click the button to see morph animation\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:ui",
      "target": "components/motion-core/morphing-action-button"
    }
  ]
}